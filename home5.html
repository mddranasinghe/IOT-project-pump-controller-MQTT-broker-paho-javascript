<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="resources/css/style.css">
    
    <style>
        .box1,.box2{
              background-color: rgb(232, 188, 93);
          }
        </style>
</head>
<body>
    <div class="container">

<div class="scrollmenu">
    <a href="index.html ">Home 1</a>
    <a href="home2.html" >Home  2</a>
    <a href="home3.html" >Home  3</a>
    <a href="home4.html" id="prevPage">Home  4</a>
    <a href="home5.html" style=" background-color:rgb(70, 184, 110); border-radius:5px 5px;">Home  5</a>
    <a href="home6.html" id="nextPage">Home 6</a>


    </div>


    <br>
<main style="margin-top: 2%;width: 100%;"> 
    <div class="box1" id="bedroom">
        <div class="circle"><img src="resources\image\bedroom.png "  class="img" ></div>
        <h4>Bed Room</h4>
        <p> 7 Devices </p>
    </div>

    <div class="box1"  id="kitchen">
        <div class="circle"><img src="resources\image\kitchn.png"  class="img" ></div>
    <h4>Kitchen</h4>
    <p> 6 Devices </p>
    </div>

 
    <div class="box2"  id="livingroom">
        <div class="circle" ><img src="resources\image\livingroom.png"  class="img" ></div>
        <h4> Living Room</h4>
        <p> 5 Devices </p>
    </div>


    <div class="box2" id="meeting">
        <div class="circle"  ><img src="resources\image\meeting.png"  class="img" ></div>
        <h4>Meeting Room</h4>
        <p> 8 Devices </p>
    </div>

    <div class="box2"  id="livingroom">
        <div class="circle" ><img src="resources\image\livingroom.png"  class="img" ></div>
        <h4> Living Room</h4>
        <p> 5 Devices </p>
    </div>


    <div class="box2" id="meeting">
        <div class="circle"  ><img src="resources\image\meeting.png"  class="img" ></div>
        <h4>Meeting Room</h4>
        <p> 8 Devices </p>
    </div>

    <br><br>

        <div class="dotdiv">
            <div class="dot" id="page1"></div>
            <div class="dot" id="page2" ></div>
            <div class="dot"id="page3"></div>
            <div class="dot"id="page4"></div>
            <div class="dot"id="page5" style="width: 10px; height: 10px;"></div>
            <div class="dot"id="page6"></div>



            </div>
        </mian>
    </div>
     
    <script src="resources/js/main.js"></script>
   
<script src="paho.javascript-1.0.3\paho-mqtt.js"></script>
    <script>
             var page5=document.getElementById('page5');
    
var protocol = window.location.protocol
console.log(protocol);

if(protocol == "https:"){
        var client = new Paho.MQTT.Client('broker.hivemq.com', 8884 , 'dinuka');

        client.onConnectionLost = onConnectionLost;

        client.connect({
        onSuccess: onConnect,
        useSSL: true 
        });
}else{
    var client = new Paho.MQTT.Client('broker.hivemq.com', 8000 , 'dinuka');

       client.onConnectionLost = onConnectionLost;

       client.connect({
       onSuccess: onConnect,

});

}        
function onConnect() {
  console.log("onConnect");
  client.subscribe("World");
  message = new Paho.MQTT.Message("Hello");
  message.destinationName = "World";
  client.send(message);
  page5.style.backgroundColor="green";

}


function onConnectionLost(responseObject) {
  if (responseObject.errorCode !== 0) {
    console.log("onConnectionLost:"+responseObject.errorMessage);
    page5.style.backgroundColor="red";
  }
  
}



window.onload=function(){
    var specifiedtag=document.querySelector('.scrollmenu a[href="home5.html"]');
        if(specifiedtag){
        specifiedtag.classList.add('centered');
        specifiedtag.scrollIntoView({behavior:'smooth',block:'center'});
        }};

 </script>
</body>
</html>