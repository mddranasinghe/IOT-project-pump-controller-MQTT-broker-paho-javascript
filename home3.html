<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
   
    <style>
        .box1,.box2{
              background-color: rgb(221, 237, 129);
          }

    </style>
</head>
<body>
<div class="container">
<div class="scrollmenu">
    <a href="index.html ">Home 1</a>
    <a href="home2.html" id="prevPage" >Home  2</a>
    <a href="home3.html" style=" background-color:rgb(70, 184, 110); border-radius:5px 5px;">Home  3</a>
    <a href="home4.html" id="nextPage">Home  4</a>
    <a href="home5.html">Home  5</a>
    <a href="home6.html">Home  6</a>
    

    </div>


    <br>
<main style="margin-top: 2%;      width: 100%;" id="main1">
    <div class="box1" id="bedroom">
        <div class="circle"><img src="bedroom.png "  class="img" ></div>
        <h4>Bed Room</h4>
        <p> 7 Devices </p>
    </div>

    <div class="box1"  id="kitchen">
        <div class="circle"><img src="kitchn.png"  class="img" ></div>
    <h4>Kitchen</h4>
    <p> 6 Devices </p>
    </div>

 
    <div class="box2"  id="livingroom">
        <div class="circle" ><img src="livingroom.png"  class="img" ></div>
        <h4> Living Room</h4>
        <p> 5 Devices </p>
    </div>


    <div class="box2" id="meeting">
        <div class="circle"  ><img src="meeting.png"  class="img" ></div>
        <h4>Meeting Room</h4>
        <p> 8 Devices </p>
    </div>

    <div class="box1" id="bedroom">
        <div class="circle"><img src="bedroom.png "  class="img" ></div>
        <h4>Bed Room</h4>
        <p> 7 Devices </p>
    </div>

    <br><br>
        <div class="dotdiv">
            <div class="dot" id="page1" style="background-color:  #b4b4b0;"></div>
            <div class="dot" id="page2" style="background-color:  #b4b4b0;"></div>
            <div class="dot" id="page3"style="width: 10px; height: 10px; background-color:  #b4b4b0;"></div>
            <div class="dot" id ="page4" style="background-color:  #b4b4b0;"></div>
            <div class="dot" id="page5" style="background-color:  #b4b4b0;"></div>
            <div class="dot" id="page6" style="background-color:  #b4b4b0;"></div>

            <div style="margin-top: -15px; background-color:white ;" id="wifilog">
                
                <img src="disconnect.png"  id="disconnect" style=" background-color: aliceblue;width: 20px; height: 20px; margin-left: 40%;">
            
                <img src="connect.png"  id="green"  style=" display:none; background-color: aliceblue;width: 40px; height: 20px; margin-left: 40%; " >
            
            </div>
            </div>
        </mian>
    </div>



   
<script src="main.js"></script>
 <script src="paho.javascript-1.0.3\paho-mqtt.js"></script>
 <script>
           var disconnect=document.getElementById('disconnect');
           var green=document.getElementById('green');
          // var dot = document.querySelectorAll('#page1, #page2, #page3, #page4, #page5, #page6');

         
    var protocol = window.location.protocol
    console.log(protocol);
    
    if(protocol == "https:"){
            var client = new Paho.MQTT.Client('broker.hivemq.com', 8884 , 'dinuka');//wss.....
            client.onConnectionLost = onConnectionLost;
            client.connect({
            onSuccess: onConnect,
            useSSL: true 
            });
    }else{
        var client = new Paho.MQTT.Client('broker.hivemq.com', 8000 , 'dinuka');//ws...
           client.onConnectionLost = onConnectionLost;
           client.connect({
           onSuccess: onConnect, });
    }
            function onConnect() {
      // Once a connection has been made, make a subscription and send a message.
      console.log("onConnect");
      client.subscribe("World");
      message = new Paho.MQTT.Message("Hello");
      message.destinationName = "World";
      client.send(message);
      green.style.display="inline";
      disconnect.style.display="none";

     var dot = document.querySelectorAll('#page1, #page2, #page3, #page4, #page5, #page6');
    dot.forEach(function(element) {
    // Apply styles to each element
     element.style.backgroundColor = "green";
    });

    }

    function onConnectionLost(responseObject) {
  if (responseObject.errorCode !== 0) {
    console.log("onConnectionLost:"+responseObject.errorMessage);
  }
}


    window.onload=function(){
    var specifiedtag=document.querySelector('.scrollmenu a[href="home3.html"]');
        if(specifiedtag){
        specifiedtag.classList.add('centered');
        specifiedtag.scrollIntoView({behavior:'smooth',block:'center'});
        }};
</script>
</body>
 </html>